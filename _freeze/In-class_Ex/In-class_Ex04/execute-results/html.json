{
  "hash": "5e2b58fa3074c713b5cc596fde066891",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"In-class_Ex04\"\nauthor: \"Cathy C.\"\ndate-modified: \"last-modified\" \nexecute:\n  echo: true \n  eval: true \n  warning: false \n  freeze: true  \n---\n\n\n\n\n\nðŸŽ¯ Use Tool to install packages first before running the code. Helps reduce missing packages.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman:::p_load(haven, SmartEDA, tidyverse, ggdist,\n                tidymodels, ggridges, colorspace, ggthemes)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nexam_data <- read_csv(\"data/Exam_data.csv\")\n```\n:::\n\n\n\n\n\nBefore plotting ridgeline plots, we plot boxplot first to have a preview.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(exam_data,\n       aes(x = ENGLISH,\n           y = CLASS)) +\n  geom_boxplot() +\n  labs(title = \"Boxplot showing distribution\")\n```\n\n::: {.cell-output-display}\n![](In-class_Ex04_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n\nNow, we plot the ridgeline plot.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(exam_data,\n       aes(x = ENGLISH,\n           y = CLASS)) +\n  #create ridgeline\n  geom_density_ridges( \n    scale = 3,\n    rel_min_height = 0.01,\n    bandwidth = 2.5,\n    fill = lighten(\"pink\", .3),\n    color = \"white\"\n  ) +\n  #extension of ggplot\n  scale_x_continuous(\n    name = \"English grades\",\n    expand = c(0,0),\n  ) +\n  scale_y_discrete(name = \"Class\", expand = expansion(add=c(0.2, 2.6))) +\n  labs(title = \"Visualising Distribution with Ridgeline Plot\") +\n  theme_ridges()\n```\n\n::: {.cell-output-display}\n![](In-class_Ex04_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n\nBelow is with quantile lines:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(exam_data,\n       aes(x = ENGLISH, \n           y = CLASS, \n           fill = factor(stat(quantile))\n           )) +\n  stat_density_ridges(\n    geom = \"density_ridges_gradient\",\n    calc_ecdf = TRUE, \n    quantiles = 4,\n    quantile_lines = TRUE) +\n  scale_fill_viridis_d(name = \"Quartiles\") +\n  labs(title = \"Ridgeline Plot with Quantile Lines\") +\n  theme_ridges()\n```\n\n::: {.cell-output-display}\n![](In-class_Ex04_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n\n\nHere, we can use half-eye plot to see the distribution:\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(exam_data, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) + #see no outliers.\n  geom_boxplot(width = .20, #not overly crowded.\n               outlier.shape = NA) + #see no outliers.\n  coord_flip() +\n  labs(title = \"Half-eye Graph\") \n```\n\n::: {.cell-output-display}\n![](In-class_Ex04_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n\nNext we add dot plots with `stat_dots()`. This gives better clarify.\n\n-   High-level distribution of probability density\\> This smooths out. Is it skewed or normal distributed.\n\n-   Dots: provides the detail of it. With this we can observe that for some categories like \"Others\" has very small sample.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\" code-summary=\"Show the code\"}\nggplot(exam_data, \n       aes(x = RACE, \n           y = ENGLISH)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = NA, #suggested to put all dots in the range.\n            dotsize = 1.3) + #can apply transparency if too many.\n  coord_flip() + #this is to flip into horizontal graph\n  labs(title = \"Adding dot plots to the Raincloud Plot\") \n```\n\n::: {.cell-output-display}\n![](In-class_Ex04_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "In-class_Ex04_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}